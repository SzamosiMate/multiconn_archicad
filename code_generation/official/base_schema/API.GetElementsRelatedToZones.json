{
  "$schema": "http://json-schema.org/draft-04/schema",
  "description": "Returns related elements of the given zones. The related elements will be grouped by type. If multiple zones was given, then the order of the returned list is that of the given zones.",
  "definitions": {
    "command_parameters": {
      "type": "object",
      "properties": {
        "zones": {
          "$ref": "APITypes.json#/definitions/Elements"
        },
        "elementTypes": {
          "description": "If this parameter is given, then only related elements with the requested types will be listed.",
          "$ref": "APITypes.json#/definitions/ElementTypes"
        }
      },
      "additionalProperties": false,
      "required": [
        "zones"
      ]
    },
    "response_parameters": {
      "type": "object",
      "properties": {
        "elementsRelatedToZones": {
          "$ref": "APITypes.json#/definitions/ElementsOrErrorArray"
        }
      },
      "additionalProperties": false,
      "required": [
        "elementsRelatedToZones"
      ]
    },
    "examples": [
      {
        "description": "Get all elements related to zones.",
        "command_example": {
          "command": "API.GetElementsRelatedToZones",
          "parameters": {
            "zones": [
              {
                "elementId": {
                  "guid": "23CCB727-2A40-4441-8789-0F7B9423A8FB"
                }
              },
              {
                "elementId": {
                  "guid": "00000000-1111-2222-3333-444444444444"
                }
              }
            ]
          }
        },
        "response_example": {
          "succeeded": true,
          "result": {
            "elementsRelatedToZones": [
              {
                "elements": [
                  {
                    "elementId": {
                      "guid": "0F7943AC-48FA-C74E-8ACE-D1CB0DB0DBB7"
                    }
                  },
                  {
                    "elementId": {
                      "guid": "6C7F82AF-A362-4CFD-AF06-3CA1668D92F1"
                    }
                  },
                  {
                    "elementId": {
                      "guid": "65237B0F-73C3-4DB3-9E94-3E1931F84AA0"
                    }
                  },
                  {
                    "elementId": {
                      "guid": "63BA003E-4F4D-AA4A-8FBC-57379F2CDB98"
                    }
                  },
                  {
                    "elementId": {
                      "guid": "5885E8F5-F67D-4CB9-987A-14EC733C8C27"
                    }
                  },
                  {
                    "elementId": {
                      "guid": "6D21CBD5-EB75-4FC8-B20D-D4BB0470D827"
                    }
                  }
                ]
              },
              {
                "error": {
                  "code": 7204,
                  "message": "Element not found (element guid: \"00000000-1111-2222-3333-444444444444\")"
                }
              }
            ]
          }
        }
      },
      {
        "description": "Get windows and doors related to zones.",
        "command_example": {
          "command": "API.GetElementsRelatedToZones",
          "parameters": {
            "zones": [
              {
                "elementId": {
                  "guid": "23CCB727-2A40-4441-8789-0F7B9423A8FB"
                }
              }
            ],
            "elementTypes": [
              "Window",
              "Door"
            ]
          }
        },
        "response_example": {
          "succeeded": true,
          "result": {
            "elementsRelatedToZones": [
              {
                "elements": [
                  {
                    "elementId": {
                      "guid": "5885E8F5-F67D-4CB9-987A-14EC733C8C27"
                    }
                  },
                  {
                    "elementId": {
                      "guid": "6D21CBD5-EB75-4FC8-B20D-D4BB0470D827"
                    }
                  }
                ]
              }
            ]
          }
        }
      }
    ],
    "see_also": [
      "Element Information"
    ]
  }
}
